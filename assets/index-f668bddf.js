(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function T(){}function P(r,e){for(const t in e)r[t]=e[t];return r}function dt(r){return r()}function Xe(){return Object.create(null)}function ue(r){r.forEach(dt)}function je(r){return typeof r=="function"}function K(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}function Lt(r){return Object.keys(r).length===0}function Ut(r,...e){if(r==null)return T;const t=r.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function mt(r,e,t){r.$$.on_destroy.push(Ut(e,t))}function ye(r,e,t,n){if(r){const i=pt(r,e,t,n);return r[0](i)}}function pt(r,e,t,n){return r[1]&&n?P(t.ctx.slice(),r[1](n(e))):t.ctx}function be(r,e,t,n){if(r[2]&&n){const i=r[2](n(t));if(e.dirty===void 0)return i;if(typeof i=="object"){const o=[],s=Math.max(e.dirty.length,i.length);for(let l=0;l<s;l+=1)o[l]=e.dirty[l]|i[l];return o}return e.dirty|i}return e.dirty}function xe(r,e,t,n,i,o){if(i){const s=pt(e,t,n,o);r.p(s,i)}}function Ee(r){if(r.ctx.length>32){const e=[],t=r.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function Ce(r){const e={};for(const t in r)t[0]!=="$"&&(e[t]=r[t]);return e}function ne(r,e){const t={};e=new Set(e);for(const n in r)!e.has(n)&&n[0]!=="$"&&(t[n]=r[n]);return t}function Mt(r){const e={};for(const t in r)e[t]=!0;return e}function Pt(r,e,t){return r.set(t),e}function Ie(r){return r&&je(r.destroy)?r.destroy:T}function N(r,e){r.appendChild(e)}function v(r,e,t){r.insertBefore(e,t||null)}function E(r){r.parentNode&&r.parentNode.removeChild(r)}function Vt(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function A(r){return document.createElement(r)}function Q(r){return document.createTextNode(r)}function k(){return Q(" ")}function qt(){return Q("")}function Te(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function z(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function H(r,e){const t=Object.getOwnPropertyDescriptors(r.__proto__);for(const n in e)e[n]==null?r.removeAttribute(n):n==="style"?r.style.cssText=e[n]:n==="__value"?r.value=r[n]=e[n]:t[n]&&t[n].set?r[n]=e[n]:z(r,n,e[n])}function Jt(r){return Array.from(r.childNodes)}function re(r,e){e=""+e,r.wholeText!==e&&(r.data=e)}function F(r,e,t){r.classList[t?"add":"remove"](e)}let we;function ge(r){we=r}function Qe(){if(!we)throw new Error("Function called outside component initialization");return we}function Yt(r,e){return Qe().$$.context.set(r,e),e}function zt(r){return Qe().$$.context.get(r)}function jt(r,e){const t=r.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const _e=[],Ve=[],Ae=[],qe=[],Qt=Promise.resolve();let Je=!1;function Gt(){Je||(Je=!0,Qt.then(gt))}function Ye(r){Ae.push(r)}function Ht(r){qe.push(r)}const Pe=new Set;let ae=0;function gt(){if(ae!==0)return;const r=we;do{try{for(;ae<_e.length;){const e=_e[ae];ae++,ge(e),Wt(e.$$)}}catch(e){throw _e.length=0,ae=0,e}for(ge(null),_e.length=0,ae=0;Ve.length;)Ve.pop()();for(let e=0;e<Ae.length;e+=1){const t=Ae[e];Pe.has(t)||(Pe.add(t),t())}Ae.length=0}while(_e.length);for(;qe.length;)qe.pop()();Je=!1,Pe.clear(),ge(r)}function Wt(r){if(r.fragment!==null){r.update(),ue(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(Ye)}}const Re=new Set;let le;function Ze(){le={r:0,c:[],p:le}}function Ke(){le.r||ue(le.c),le=le.p}function O(r,e){r&&r.i&&(Re.delete(r),r.i(e))}function C(r,e,t,n){if(r&&r.o){if(Re.has(r))return;Re.add(r),le.c.push(()=>{Re.delete(r),n&&(t&&r.d(1),n())}),r.o(e)}else n&&n()}function Se(r,e){const t={},n={},i={$$scope:1};let o=r.length;for(;o--;){const s=r[o],l=e[o];if(l){for(const u in s)u in l||(n[u]=1);for(const u in l)i[u]||(t[u]=l[u],i[u]=1);r[o]=l}else for(const u in s)i[u]=1}for(const s in n)s in t||(t[s]=void 0);return t}function Xt(r,e,t){const n=r.$$.props[e];n!==void 0&&(r.$$.bound[n]=t,t(r.$$.ctx[n]))}function M(r){r&&r.c()}function L(r,e,t,n){const{fragment:i,after_update:o}=r.$$;i&&i.m(e,t),n||Ye(()=>{const s=r.$$.on_mount.map(dt).filter(je);r.$$.on_destroy?r.$$.on_destroy.push(...s):ue(s),r.$$.on_mount=[]}),o.forEach(Ye)}function U(r,e){const t=r.$$;t.fragment!==null&&(ue(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Zt(r,e){r.$$.dirty[0]===-1&&(_e.push(r),Gt(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function ie(r,e,t,n,i,o,s,l=[-1]){const u=we;ge(r);const f=r.$$={fragment:null,ctx:[],props:o,update:T,not_equal:i,bound:Xe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Xe(),dirty:l,skip_bound:!1,root:e.target||u.$$.root};s&&s(f.root);let c=!1;if(f.ctx=t?t(r,e.props||{},(h,g,...d)=>{const w=d.length?d[0]:g;return f.ctx&&i(f.ctx[h],f.ctx[h]=w)&&(!f.skip_bound&&f.bound[h]&&f.bound[h](w),c&&Zt(r,h)),g}):[],f.update(),c=!0,ue(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){const h=Jt(e.target);f.fragment&&f.fragment.l(h),h.forEach(E)}else f.fragment&&f.fragment.c();e.intro&&O(r.$$.fragment),L(r,e.target,e.anchor,e.customElement),gt()}ge(u)}class oe{$destroy(){U(this,1),this.$destroy=T}$on(e,t){if(!je(t))return T;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const i=n.indexOf(t);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!Lt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function De(){const r=Qe();return e=>{const t=Object.keys(r.$$.callbacks),n=[];return t.forEach(i=>n.push(Te(e,i,o=>jt(r,o)))),{destroy:()=>{n.forEach(i=>i())}}}}function Kt(r){let e,t,n,i;const o=r[3].default,s=ye(o,r,r[2],null);let l=[r[1]],u={};for(let f=0;f<l.length;f+=1)u=P(u,l[f]);return{c(){e=A("div"),s&&s.c(),H(e,u),F(e,"container",1)},m(f,c){v(f,e,c),s&&s.m(e,null),t=!0,n||(i=Ie(r[0].call(null,e)),n=!0)},p(f,[c]){s&&s.p&&(!t||c&4)&&xe(s,o,f,f[2],t?be(o,f[2],c,null):Ee(f[2]),null),H(e,u=Se(l,[c&2&&f[1]])),F(e,"container",1)},i(f){t||(O(s,f),t=!0)},o(f){C(s,f),t=!1},d(f){f&&E(e),s&&s.d(f),n=!1,i()}}}function er(r,e,t){const n=[];let i=ne(e,n),{$$slots:o={},$$scope:s}=e;const l=De();return r.$$set=u=>{e=P(P({},e),Ce(u)),t(1,i=ne(e,n)),"$$scope"in u&&t(2,s=u.$$scope)},[l,i,s,o]}class tr extends oe{constructor(e){super(),ie(this,e,er,Kt,K,{})}}const rr=r=>({}),et=r=>({}),nr=r=>({}),tt=r=>({});function rt(r){let e,t;const n=r[4].header,i=ye(n,r,r[3],tt);return{c(){e=A("header"),i&&i.c()},m(o,s){v(o,e,s),i&&i.m(e,null),t=!0},p(o,s){i&&i.p&&(!t||s&8)&&xe(i,n,o,o[3],t?be(n,o[3],s,nr):Ee(o[3]),tt)},i(o){t||(O(i,o),t=!0)},o(o){C(i,o),t=!1},d(o){o&&E(e),i&&i.d(o)}}}function nt(r){let e,t;const n=r[4].footer,i=ye(n,r,r[3],et);return{c(){e=A("footer"),i&&i.c()},m(o,s){v(o,e,s),i&&i.m(e,null),t=!0},p(o,s){i&&i.p&&(!t||s&8)&&xe(i,n,o,o[3],t?be(n,o[3],s,rr):Ee(o[3]),et)},i(o){t||(O(i,o),t=!0)},o(o){C(i,o),t=!1},d(o){o&&E(e),i&&i.d(o)}}}function ir(r){let e,t,n,i,o,s,l=r[2].header&&rt(r);const u=r[4].default,f=ye(u,r,r[3],null);let c=r[2].footer&&nt(r),h=[r[1]],g={};for(let d=0;d<h.length;d+=1)g=P(g,h[d]);return{c(){e=A("div"),l&&l.c(),t=k(),f&&f.c(),n=k(),c&&c.c(),H(e,g),F(e,"card",1)},m(d,w){v(d,e,w),l&&l.m(e,null),N(e,t),f&&f.m(e,null),N(e,n),c&&c.m(e,null),i=!0,o||(s=Ie(r[0].call(null,e)),o=!0)},p(d,[w]){d[2].header?l?(l.p(d,w),w&4&&O(l,1)):(l=rt(d),l.c(),O(l,1),l.m(e,t)):l&&(Ze(),C(l,1,1,()=>{l=null}),Ke()),f&&f.p&&(!i||w&8)&&xe(f,u,d,d[3],i?be(u,d[3],w,null):Ee(d[3]),null),d[2].footer?c?(c.p(d,w),w&4&&O(c,1)):(c=nt(d),c.c(),O(c,1),c.m(e,null)):c&&(Ze(),C(c,1,1,()=>{c=null}),Ke()),H(e,g=Se(h,[w&2&&d[1]])),F(e,"card",1)},i(d){i||(O(l),O(f,d),O(c),i=!0)},o(d){C(l),C(f,d),C(c),i=!1},d(d){d&&E(e),l&&l.d(),f&&f.d(d),c&&c.d(),o=!1,s()}}}function or(r,e,t){const n=[];let i=ne(e,n),{$$slots:o={},$$scope:s}=e;const l=Mt(o),u=De();return r.$$set=f=>{e=P(P({},e),Ce(f)),t(1,i=ne(e,n)),"$$scope"in f&&t(3,s=f.$$scope)},[u,i,l,s,o]}class de extends oe{constructor(e){super(),ie(this,e,or,ir,K,{})}}const ce=[];function wt(r,e=T){let t;const n=new Set;function i(l){if(K(r,l)&&(r=l,t)){const u=!ce.length;for(const f of n)f[1](),ce.push(f,r);if(u){for(let f=0;f<ce.length;f+=2)ce[f][0](ce[f+1]);ce.length=0}}}function o(l){i(l(r))}function s(l,u=T){const f=[l,u];return n.add(f),n.size===1&&(t=e(i)||T),l(r),()=>{n.delete(f),n.size===0&&(t(),t=null)}}return{set:i,update:o,subscribe:s}}function sr(r){let e,t,n,i=[{type:r[1]},r[6],{value:r[0]}],o={};for(let s=0;s<i.length;s+=1)o=P(o,i[s]);return{c(){e=A("input"),H(e,o),F(e,"error",r[2]),F(e,"success",r[3]),F(e,"svelte-ovucoa",!0)},m(s,l){v(s,e,l),e.value=o.value,e.autofocus&&e.focus(),t||(n=[Ie(r[4].call(null,e)),Te(e,"input",r[5])],t=!0)},p(s,l){H(e,o=Se(i,[l&2&&{type:s[1]},l&64&&s[6],l&1&&e.value!==s[0]&&{value:s[0]}])),"value"in o&&(e.value=o.value),F(e,"error",s[2]),F(e,"success",s[3]),F(e,"svelte-ovucoa",!0)},d(s){s&&E(e),t=!1,ue(n)}}}function lr(r){let e,t,n,i=[r[6],{value:r[0]}],o={};for(let s=0;s<i.length;s+=1)o=P(o,i[s]);return{c(){e=A("textarea"),H(e,o),F(e,"error",r[2]),F(e,"success",r[3])},m(s,l){v(s,e,l),e.autofocus&&e.focus(),t||(n=[Ie(r[4].call(null,e)),Te(e,"input",r[5])],t=!0)},p(s,l){H(e,o=Se(i,[l&64&&s[6],l&1&&{value:s[0]}])),F(e,"error",s[2]),F(e,"success",s[3])},d(s){s&&E(e),t=!1,ue(n)}}}function fr(r){let e;function t(o,s){return o[1]==="textarea"?lr:sr}let n=t(r),i=n(r);return{c(){i.c(),e=qt()},m(o,s){i.m(o,s),v(o,e,s)},p(o,[s]){n===(n=t(o))&&i?i.p(o,s):(i.d(1),i=n(o),i&&(i.c(),i.m(e.parentNode,e)))},i:T,o:T,d(o){i.d(o),o&&E(e)}}}function ur(r,e,t){const n=["value","type","error","success","password","number","textarea","color","date","range"];let i=ne(e,n),{value:o=""}=e,{type:s="text"}=e,{error:l=null}=e,{success:u=null}=e,{password:f=!1}=e,{number:c=!1}=e,{textarea:h=!1}=e,{color:g=!1}=e,{date:d=!1}=e,{range:w=!1}=e;const _=De(),m=p=>{const y=p.target.type,R=p.target.value;y==="number"||y==="range"?t(0,o=R===""?void 0:+R):t(0,o=R)};let x=zt("field:state");return x&&x.subscribe(p=>{p==="error"?t(2,l=!0):p==="success"?t(3,u=!0):t(3,u=t(2,l=!1))}),r.$$set=p=>{e=P(P({},e),Ce(p)),t(6,i=ne(e,n)),"value"in p&&t(0,o=p.value),"type"in p&&t(1,s=p.type),"error"in p&&t(2,l=p.error),"success"in p&&t(3,u=p.success),"password"in p&&t(7,f=p.password),"number"in p&&t(8,c=p.number),"textarea"in p&&t(9,h=p.textarea),"color"in p&&t(10,g=p.color),"date"in p&&t(11,d=p.date),"range"in p&&t(12,w=p.range)},r.$$.update=()=>{r.$$.dirty&128&&f&&t(1,s="password"),r.$$.dirty&256&&c&&t(1,s="number"),r.$$.dirty&512&&h&&t(1,s="textarea"),r.$$.dirty&1024&&g&&t(1,s="color"),r.$$.dirty&2048&&d&&t(1,s="date"),r.$$.dirty&4096&&w&&t(1,s="range")},[o,s,l,u,_,m,i,f,c,h,g,d,w]}class ar extends oe{constructor(e){super(),ie(this,e,ur,fr,K,{value:0,type:1,error:2,success:3,password:7,number:8,textarea:9,color:10,date:11,range:12})}}function it(r){let e,t;return{c(){e=A("label"),t=Q(r[1])},m(n,i){v(n,e,i),N(e,t)},p(n,i){i&2&&re(t,n[1])},d(n){n&&E(e)}}}function cr(r){let e;return{c(){e=A("p"),e.textContent="Â ",z(e,"class","message svelte-3n5xjn")},m(t,n){v(t,e,n)},p:T,d(t){t&&E(e)}}}function hr(r){let e,t;return{c(){e=A("p"),t=Q(r[5]),z(e,"class","message svelte-3n5xjn"),F(e,"text-error",r[2]),F(e,"text-success",r[3])},m(n,i){v(n,e,i),N(e,t)},p(n,i){i&32&&re(t,n[5]),i&4&&F(e,"text-error",n[2]),i&8&&F(e,"text-success",n[3])},d(n){n&&E(e)}}}function _r(r){let e,t,n,i,o,s,l,u=r[1]&&it(r);const f=r[9].default,c=ye(f,r,r[8],null);function h(m,x){return m[5]?hr:cr}let g=h(r),d=g(r),w=[r[7]],_={};for(let m=0;m<w.length;m+=1)_=P(_,w[m]);return{c(){e=A("div"),u&&u.c(),t=k(),n=A("p"),c&&c.c(),i=k(),d.c(),z(n,"class","svelte-3n5xjn"),F(n,"grouped",r[0]),F(n,"gapless",r[4]),H(e,_),F(e,"nomessage",!r[5]),F(e,"svelte-3n5xjn",!0)},m(m,x){v(m,e,x),u&&u.m(e,null),N(e,t),N(e,n),c&&c.m(n,null),N(e,i),d.m(e,null),o=!0,s||(l=Ie(r[6].call(null,e)),s=!0)},p(m,[x]){m[1]?u?u.p(m,x):(u=it(m),u.c(),u.m(e,t)):u&&(u.d(1),u=null),c&&c.p&&(!o||x&256)&&xe(c,f,m,m[8],o?be(f,m[8],x,null):Ee(m[8]),null),(!o||x&1)&&F(n,"grouped",m[0]),(!o||x&16)&&F(n,"gapless",m[4]),g===(g=h(m))&&d?d.p(m,x):(d.d(1),d=g(m),d&&(d.c(),d.m(e,null))),H(e,_=Se(w,[x&128&&m[7]])),F(e,"nomessage",!m[5]),F(e,"svelte-3n5xjn",!0)},i(m){o||(O(c,m),o=!0)},o(m){C(c,m),o=!1},d(m){m&&E(e),u&&u.d(),c&&c.d(m),d.d(),s=!1,l()}}}function dr(r,e,t){const n=["label","error","success","grouped","gapless"];let i=ne(e,n),{$$slots:o={},$$scope:s}=e,{label:l=!1}=e,{error:u=!1}=e,{success:f=!1}=e,{grouped:c=!1}=e,{gapless:h=!1}=e;const g=De(),d=wt("");let w=!1;return Yt("field:state",d),r.$$set=_=>{e=P(P({},e),Ce(_)),t(7,i=ne(e,n)),"label"in _&&t(1,l=_.label),"error"in _&&t(2,u=_.error),"success"in _&&t(3,f=_.success),"grouped"in _&&t(0,c=_.grouped),"gapless"in _&&t(4,h=_.gapless),"$$scope"in _&&t(8,s=_.$$scope)},r.$$.update=()=>{r.$$.dirty&16&&h&&t(0,c=!0),r.$$.dirty&12&&(typeof u=="string"?(d.set("error"),t(5,w=u)):typeof f=="string"?(d.set("success"),t(5,w=f)):(d.set(""),t(5,w=!1)))},[c,l,u,f,h,w,g,i,s,o]}class mr extends oe{constructor(e){super(),ie(this,e,dr,_r,K,{label:1,error:2,success:3,grouped:0,gapless:4})}}const pr=[{key:"@dave",twitter:"@davebs",facebook:"@davefb",fediverse:"@dave@thebristol.soclal"},{key:"@steve",twitter:"@StephenEngland",facebook:"@stephenjamesengland",fediverse:"@stengland@thebristol.soclal"}],gr=JSON.parse(localStorage.contacts||null),Oe=wt(gr||pr);Oe.subscribe(r=>localStorage.contacts=JSON.stringify(r));function wr(r){let e,t=r[2](r[0],r[1])+"",n;return{c(){e=A("p"),n=Q(t)},m(i,o){v(i,e,o),N(e,n)},p(i,[o]){o&3&&t!==(t=i[2](i[0],i[1])+"")&&re(n,t)},i:T,o:T,d(i){i&&E(e)}}}function yr(r,e,t){let n;mt(r,Oe,l=>t(3,n=l));let{post:i}=e,{social:o}=e;function s(l,u){let f=l;return n.forEach(c=>{const h=c[u];h&&(f=f.replace(c.key,h))}),f}return r.$$set=l=>{"post"in l&&t(0,i=l.post),"social"in l&&t(1,o=l.social)},[i,o,s]}class $e extends oe{constructor(e){super(),ie(this,e,yr,wr,K,{post:0,social:1})}}function ot(r,e,t){const n=r.slice();return n[1]=e[t],n}function st(r){let e,t,n=r[1].key+"",i,o,s,l=r[1].twitter+"",u,f,c,h=r[1].facebook+"",g,d,w,_=r[1].instagram+"",m,x,p,y=r[1].fediverse+"",R,X;return{c(){e=A("tr"),t=A("td"),i=Q(n),o=k(),s=A("td"),u=Q(l),f=k(),c=A("td"),g=Q(h),d=k(),w=A("td"),m=Q(_),x=k(),p=A("td"),R=Q(y),X=k()},m(j,q){v(j,e,q),N(e,t),N(t,i),N(e,o),N(e,s),N(s,u),N(e,f),N(e,c),N(c,g),N(e,d),N(e,w),N(w,m),N(e,x),N(e,p),N(p,R),N(e,X)},p(j,q){q&1&&n!==(n=j[1].key+"")&&re(i,n),q&1&&l!==(l=j[1].twitter+"")&&re(u,l),q&1&&h!==(h=j[1].facebook+"")&&re(g,h),q&1&&_!==(_=j[1].instagram+"")&&re(m,_),q&1&&y!==(y=j[1].fediverse+"")&&re(R,y)},d(j){j&&E(e)}}}function br(r){let e,t,n,i,o=r[0],s=[];for(let l=0;l<o.length;l+=1)s[l]=st(ot(r,o,l));return{c(){e=A("table"),t=A("thead"),t.innerHTML=`<tr><th>Key</th> 
  <th>Twitter</th> 
  <th>Facebook</th> 
  <th>Instagram</th> 
  <th>Fediverse</th></tr>`,n=k(),i=A("tbody");for(let l=0;l<s.length;l+=1)s[l].c()},m(l,u){v(l,e,u),N(e,t),N(e,n),N(e,i);for(let f=0;f<s.length;f+=1)s[f].m(i,null)},p(l,[u]){if(u&1){o=l[0];let f;for(f=0;f<o.length;f+=1){const c=ot(l,o,f);s[f]?s[f].p(c,u):(s[f]=st(c),s[f].c(),s[f].m(i,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=o.length}},i:T,o:T,d(l){l&&E(e),Vt(s,l)}}}function xr(r,e,t){let{contacts:n}=e;return r.$$set=i=>{"contacts"in i&&t(0,n=i.contacts)},[n]}class Er extends oe{constructor(e){super(),ie(this,e,xr,br,K,{contacts:0})}}var lt=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},G=[],J=[],Ir=typeof Uint8Array<"u"?Uint8Array:Array,Ge=!1;function yt(){Ge=!0;for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,t=r.length;e<t;++e)G[e]=r[e],J[r.charCodeAt(e)]=e;J["-".charCodeAt(0)]=62,J["_".charCodeAt(0)]=63}function Sr(r){Ge||yt();var e,t,n,i,o,s,l=r.length;if(l%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o=r[l-2]==="="?2:r[l-1]==="="?1:0,s=new Ir(l*3/4-o),n=o>0?l-4:l;var u=0;for(e=0,t=0;e<n;e+=4,t+=3)i=J[r.charCodeAt(e)]<<18|J[r.charCodeAt(e+1)]<<12|J[r.charCodeAt(e+2)]<<6|J[r.charCodeAt(e+3)],s[u++]=i>>16&255,s[u++]=i>>8&255,s[u++]=i&255;return o===2?(i=J[r.charCodeAt(e)]<<2|J[r.charCodeAt(e+1)]>>4,s[u++]=i&255):o===1&&(i=J[r.charCodeAt(e)]<<10|J[r.charCodeAt(e+1)]<<4|J[r.charCodeAt(e+2)]>>2,s[u++]=i>>8&255,s[u++]=i&255),s}function vr(r){return G[r>>18&63]+G[r>>12&63]+G[r>>6&63]+G[r&63]}function Ar(r,e,t){for(var n,i=[],o=e;o<t;o+=3)n=(r[o]<<16)+(r[o+1]<<8)+r[o+2],i.push(vr(n));return i.join("")}function ft(r){Ge||yt();for(var e,t=r.length,n=t%3,i="",o=[],s=16383,l=0,u=t-n;l<u;l+=s)o.push(Ar(r,l,l+s>u?u:l+s));return n===1?(e=r[t-1],i+=G[e>>2],i+=G[e<<4&63],i+="=="):n===2&&(e=(r[t-2]<<8)+r[t-1],i+=G[e>>10],i+=G[e>>4&63],i+=G[e<<2&63],i+="="),o.push(i),o.join("")}function ke(r,e,t,n,i){var o,s,l=i*8-n-1,u=(1<<l)-1,f=u>>1,c=-7,h=t?i-1:0,g=t?-1:1,d=r[e+h];for(h+=g,o=d&(1<<-c)-1,d>>=-c,c+=l;c>0;o=o*256+r[e+h],h+=g,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=n;c>0;s=s*256+r[e+h],h+=g,c-=8);if(o===0)o=1-f;else{if(o===u)return s?NaN:(d?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-f}return(d?-1:1)*s*Math.pow(2,o-n)}function bt(r,e,t,n,i,o){var s,l,u,f=o*8-i-1,c=(1<<f)-1,h=c>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,w=n?1:-1,_=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+h>=1?e+=g/u:e+=g*Math.pow(2,1-h),e*u>=2&&(s++,u/=2),s+h>=c?(l=0,s=c):s+h>=1?(l=(e*u-1)*Math.pow(2,i),s=s+h):(l=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;r[t+d]=l&255,d+=w,l/=256,i-=8);for(s=s<<i|l,f+=i;f>0;r[t+d]=s&255,d+=w,s/=256,f-=8);r[t+d-w]|=_*128}var Rr={}.toString,xt=Array.isArray||function(r){return Rr.call(r)=="[object Array]"},Or=50;a.TYPED_ARRAY_SUPPORT=lt.TYPED_ARRAY_SUPPORT!==void 0?lt.TYPED_ARRAY_SUPPORT:!0;Ne();function Ne(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Z(r,e){if(Ne()<e)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(e),r.__proto__=a.prototype):(r===null&&(r=new a(e)),r.length=e),r}function a(r,e,t){if(!a.TYPED_ARRAY_SUPPORT&&!(this instanceof a))return new a(r,e,t);if(typeof r=="number"){if(typeof e=="string")throw new Error("If encoding is specified then the first argument must be a string");return He(this,r)}return Et(this,r,e,t)}a.poolSize=8192;a._augment=function(r){return r.__proto__=a.prototype,r};function Et(r,e,t,n){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?Cr(r,e,t,n):typeof e=="string"?Fr(r,e,t):Tr(r,e)}a.from=function(r,e,t){return Et(null,r,e,t)};a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&a[Symbol.species]);function It(r){if(typeof r!="number")throw new TypeError('"size" argument must be a number');if(r<0)throw new RangeError('"size" argument must not be negative')}function Nr(r,e,t,n){return It(e),e<=0?Z(r,e):t!==void 0?typeof n=="string"?Z(r,e).fill(t,n):Z(r,e).fill(t):Z(r,e)}a.alloc=function(r,e,t){return Nr(null,r,e,t)};function He(r,e){if(It(e),r=Z(r,e<0?0:We(e)|0),!a.TYPED_ARRAY_SUPPORT)for(var t=0;t<e;++t)r[t]=0;return r}a.allocUnsafe=function(r){return He(null,r)};a.allocUnsafeSlow=function(r){return He(null,r)};function Fr(r,e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!a.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');var n=St(e,t)|0;r=Z(r,n);var i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}function ze(r,e){var t=e.length<0?0:We(e.length)|0;r=Z(r,t);for(var n=0;n<t;n+=1)r[n]=e[n]&255;return r}function Cr(r,e,t,n){if(e.byteLength,t<0||e.byteLength<t)throw new RangeError("'offset' is out of bounds");if(e.byteLength<t+(n||0))throw new RangeError("'length' is out of bounds");return t===void 0&&n===void 0?e=new Uint8Array(e):n===void 0?e=new Uint8Array(e,t):e=new Uint8Array(e,t,n),a.TYPED_ARRAY_SUPPORT?(r=e,r.__proto__=a.prototype):r=ze(r,e),r}function Tr(r,e){if(W(e)){var t=We(e.length)|0;return r=Z(r,t),r.length===0||e.copy(r,0,0,t),r}if(e){if(typeof ArrayBuffer<"u"&&e.buffer instanceof ArrayBuffer||"length"in e)return typeof e.length!="number"||Xr(e.length)?Z(r,0):ze(r,e);if(e.type==="Buffer"&&xt(e.data))return ze(r,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function We(r){if(r>=Ne())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Ne().toString(16)+" bytes");return r|0}a.isBuffer=Y;function W(r){return!!(r!=null&&r._isBuffer)}a.compare=function(e,t){if(!W(e)||!W(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,o=0,s=Math.min(n,i);o<s;++o)if(e[o]!==t[o]){n=e[o],i=t[o];break}return n<i?-1:i<n?1:0};a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};a.concat=function(e,t){if(!xt(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return a.alloc(0);var n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=a.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var s=e[n];if(!W(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,o),o+=s.length}return i};function St(r,e){if(W(r))return r.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(r)||r instanceof ArrayBuffer))return r.byteLength;typeof r!="string"&&(r=""+r);var t=r.length;if(t===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":case void 0:return Fe(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return Ct(r).length;default:if(n)return Fe(r).length;e=(""+e).toLowerCase(),n=!0}}a.byteLength=St;function Dr(r,e,t){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return Jr(this,e,t);case"utf8":case"utf-8":return Rt(this,e,t);case"ascii":return Vr(this,e,t);case"latin1":case"binary":return qr(this,e,t);case"base64":return Mr(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Yr(this,e,t);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}a.prototype._isBuffer=!0;function fe(r,e,t){var n=r[e];r[e]=r[t],r[t]=n}a.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)fe(this,t,t+1);return this};a.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)fe(this,t,t+3),fe(this,t+1,t+2);return this};a.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)fe(this,t,t+7),fe(this,t+1,t+6),fe(this,t+2,t+5),fe(this,t+3,t+4);return this};a.prototype.toString=function(){var e=this.length|0;return e===0?"":arguments.length===0?Rt(this,0,e):Dr.apply(this,arguments)};a.prototype.equals=function(e){if(!W(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:a.compare(this,e)===0};a.prototype.inspect=function(){var e="",t=Or;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"};a.prototype.compare=function(e,t,n,i,o){if(!W(e))throw new TypeError("Argument must be a Buffer");if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),t<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&t>=n)return 0;if(i>=o)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;for(var s=o-i,l=n-t,u=Math.min(s,l),f=this.slice(i,o),c=e.slice(t,n),h=0;h<u;++h)if(f[h]!==c[h]){s=f[h],l=c[h];break}return s<l?-1:l<s?1:0};function vt(r,e,t,n,i){if(r.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,isNaN(t)&&(t=i?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(i)return-1;t=r.length-1}else if(t<0)if(i)t=0;else return-1;if(typeof e=="string"&&(e=a.from(e,n)),W(e))return e.length===0?-1:ut(r,e,t,n,i);if(typeof e=="number")return e=e&255,a.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):ut(r,[e],t,n,i);throw new TypeError("val must be string, number or Buffer")}function ut(r,e,t,n,i){var o=1,s=r.length,l=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||e.length<2)return-1;o=2,s/=2,l/=2,t/=2}function u(d,w){return o===1?d[w]:d.readUInt16BE(w*o)}var f;if(i){var c=-1;for(f=t;f<s;f++)if(u(r,f)===u(e,c===-1?0:f-c)){if(c===-1&&(c=f),f-c+1===l)return c*o}else c!==-1&&(f-=f-c),c=-1}else for(t+l>s&&(t=s-l),f=t;f>=0;f--){for(var h=!0,g=0;g<l;g++)if(u(r,f+g)!==u(e,g)){h=!1;break}if(h)return f}return-1}a.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1};a.prototype.indexOf=function(e,t,n){return vt(this,e,t,n,!0)};a.prototype.lastIndexOf=function(e,t,n){return vt(this,e,t,n,!1)};function $r(r,e,t,n){t=Number(t)||0;var i=r.length-t;n?(n=Number(n),n>i&&(n=i)):n=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var l=parseInt(e.substr(s*2,2),16);if(isNaN(l))return s;r[t+s]=l}return s}function kr(r,e,t,n){return Ue(Fe(e,r.length-t),r,t,n)}function At(r,e,t,n){return Ue(Hr(e),r,t,n)}function Br(r,e,t,n){return At(r,e,t,n)}function Lr(r,e,t,n){return Ue(Ct(e),r,t,n)}function Ur(r,e,t,n){return Ue(Wr(e,r.length-t),r,t,n)}a.prototype.write=function(e,t,n,i){if(t===void 0)i="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")i=t,n=this.length,t=0;else if(isFinite(t))t=t|0,isFinite(n)?(n=n|0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-t;if((n===void 0||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var s=!1;;)switch(i){case"hex":return $r(this,e,t,n);case"utf8":case"utf-8":return kr(this,e,t,n);case"ascii":return At(this,e,t,n);case"latin1":case"binary":return Br(this,e,t,n);case"base64":return Lr(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ur(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Mr(r,e,t){return e===0&&t===r.length?ft(r):ft(r.slice(e,t))}function Rt(r,e,t){t=Math.min(r.length,t);for(var n=[],i=e;i<t;){var o=r[i],s=null,l=o>239?4:o>223?3:o>191?2:1;if(i+l<=t){var u,f,c,h;switch(l){case 1:o<128&&(s=o);break;case 2:u=r[i+1],(u&192)===128&&(h=(o&31)<<6|u&63,h>127&&(s=h));break;case 3:u=r[i+1],f=r[i+2],(u&192)===128&&(f&192)===128&&(h=(o&15)<<12|(u&63)<<6|f&63,h>2047&&(h<55296||h>57343)&&(s=h));break;case 4:u=r[i+1],f=r[i+2],c=r[i+3],(u&192)===128&&(f&192)===128&&(c&192)===128&&(h=(o&15)<<18|(u&63)<<12|(f&63)<<6|c&63,h>65535&&h<1114112&&(s=h))}}s===null?(s=65533,l=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=l}return Pr(n)}var at=4096;function Pr(r){var e=r.length;if(e<=at)return String.fromCharCode.apply(String,r);for(var t="",n=0;n<e;)t+=String.fromCharCode.apply(String,r.slice(n,n+=at));return t}function Vr(r,e,t){var n="";t=Math.min(r.length,t);for(var i=e;i<t;++i)n+=String.fromCharCode(r[i]&127);return n}function qr(r,e,t){var n="";t=Math.min(r.length,t);for(var i=e;i<t;++i)n+=String.fromCharCode(r[i]);return n}function Jr(r,e,t){var n=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>n)&&(t=n);for(var i="",o=e;o<t;++o)i+=Gr(r[o]);return i}function Yr(r,e,t){for(var n=r.slice(e,t),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}a.prototype.slice=function(e,t){var n=this.length;e=~~e,t=t===void 0?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);var i;if(a.TYPED_ARRAY_SUPPORT)i=this.subarray(e,t),i.__proto__=a.prototype;else{var o=t-e;i=new a(o,void 0);for(var s=0;s<o;++s)i[s]=this[s+e]}return i};function $(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUIntLE=function(e,t,n){e=e|0,t=t|0,n||$(e,t,this.length);for(var i=this[e],o=1,s=0;++s<t&&(o*=256);)i+=this[e+s]*o;return i};a.prototype.readUIntBE=function(e,t,n){e=e|0,t=t|0,n||$(e,t,this.length);for(var i=this[e+--t],o=1;t>0&&(o*=256);)i+=this[e+--t]*o;return i};a.prototype.readUInt8=function(e,t){return t||$(e,1,this.length),this[e]};a.prototype.readUInt16LE=function(e,t){return t||$(e,2,this.length),this[e]|this[e+1]<<8};a.prototype.readUInt16BE=function(e,t){return t||$(e,2,this.length),this[e]<<8|this[e+1]};a.prototype.readUInt32LE=function(e,t){return t||$(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};a.prototype.readUInt32BE=function(e,t){return t||$(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};a.prototype.readIntLE=function(e,t,n){e=e|0,t=t|0,n||$(e,t,this.length);for(var i=this[e],o=1,s=0;++s<t&&(o*=256);)i+=this[e+s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i};a.prototype.readIntBE=function(e,t,n){e=e|0,t=t|0,n||$(e,t,this.length);for(var i=t,o=1,s=this[e+--i];i>0&&(o*=256);)s+=this[e+--i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*t)),s};a.prototype.readInt8=function(e,t){return t||$(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};a.prototype.readInt16LE=function(e,t){t||$(e,2,this.length);var n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};a.prototype.readInt16BE=function(e,t){t||$(e,2,this.length);var n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};a.prototype.readInt32LE=function(e,t){return t||$(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};a.prototype.readInt32BE=function(e,t){return t||$(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};a.prototype.readFloatLE=function(e,t){return t||$(e,4,this.length),ke(this,e,!0,23,4)};a.prototype.readFloatBE=function(e,t){return t||$(e,4,this.length),ke(this,e,!1,23,4)};a.prototype.readDoubleLE=function(e,t){return t||$(e,8,this.length),ke(this,e,!0,52,8)};a.prototype.readDoubleBE=function(e,t){return t||$(e,8,this.length),ke(this,e,!1,52,8)};function V(r,e,t,n,i,o){if(!W(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(t+n>r.length)throw new RangeError("Index out of range")}a.prototype.writeUIntLE=function(e,t,n,i){if(e=+e,t=t|0,n=n|0,!i){var o=Math.pow(2,8*n)-1;V(this,e,t,n,o,0)}var s=1,l=0;for(this[t]=e&255;++l<n&&(s*=256);)this[t+l]=e/s&255;return t+n};a.prototype.writeUIntBE=function(e,t,n,i){if(e=+e,t=t|0,n=n|0,!i){var o=Math.pow(2,8*n)-1;V(this,e,t,n,o,0)}var s=n-1,l=1;for(this[t+s]=e&255;--s>=0&&(l*=256);)this[t+s]=e/l&255;return t+n};a.prototype.writeUInt8=function(e,t,n){return e=+e,t=t|0,n||V(this,e,t,1,255,0),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=e&255,t+1};function Be(r,e,t,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(r.length-t,2);i<o;++i)r[t+i]=(e&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}a.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=t|0,n||V(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e&255,this[t+1]=e>>>8):Be(this,e,t,!0),t+2};a.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=t|0,n||V(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e&255):Be(this,e,t,!1),t+2};function Le(r,e,t,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(r.length-t,4);i<o;++i)r[t+i]=e>>>(n?i:3-i)*8&255}a.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=t|0,n||V(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255):Le(this,e,t,!0),t+4};a.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=t|0,n||V(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255):Le(this,e,t,!1),t+4};a.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t=t|0,!i){var o=Math.pow(2,8*n-1);V(this,e,t,n,o-1,-o)}var s=0,l=1,u=0;for(this[t]=e&255;++s<n&&(l*=256);)e<0&&u===0&&this[t+s-1]!==0&&(u=1),this[t+s]=(e/l>>0)-u&255;return t+n};a.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t=t|0,!i){var o=Math.pow(2,8*n-1);V(this,e,t,n,o-1,-o)}var s=n-1,l=1,u=0;for(this[t+s]=e&255;--s>=0&&(l*=256);)e<0&&u===0&&this[t+s+1]!==0&&(u=1),this[t+s]=(e/l>>0)-u&255;return t+n};a.prototype.writeInt8=function(e,t,n){return e=+e,t=t|0,n||V(this,e,t,1,127,-128),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=e&255,t+1};a.prototype.writeInt16LE=function(e,t,n){return e=+e,t=t|0,n||V(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=e&255,this[t+1]=e>>>8):Be(this,e,t,!0),t+2};a.prototype.writeInt16BE=function(e,t,n){return e=+e,t=t|0,n||V(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e&255):Be(this,e,t,!1),t+2};a.prototype.writeInt32LE=function(e,t,n){return e=+e,t=t|0,n||V(this,e,t,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):Le(this,e,t,!0),t+4};a.prototype.writeInt32BE=function(e,t,n){return e=+e,t=t|0,n||V(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255):Le(this,e,t,!1),t+4};function Ot(r,e,t,n,i,o){if(t+n>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function Nt(r,e,t,n,i){return i||Ot(r,e,t,4),bt(r,e,t,n,23,4),t+4}a.prototype.writeFloatLE=function(e,t,n){return Nt(this,e,t,!0,n)};a.prototype.writeFloatBE=function(e,t,n){return Nt(this,e,t,!1,n)};function Ft(r,e,t,n,i){return i||Ot(r,e,t,8),bt(r,e,t,n,52,8),t+8}a.prototype.writeDoubleLE=function(e,t,n){return Ft(this,e,t,!0,n)};a.prototype.writeDoubleBE=function(e,t,n){return Ft(this,e,t,!1,n)};a.prototype.copy=function(e,t,n,i){if(n||(n=0),!i&&i!==0&&(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var o=i-n,s;if(this===e&&n<t&&t<i)for(s=o-1;s>=0;--s)e[s+t]=this[s+n];else if(o<1e3||!a.TYPED_ARRAY_SUPPORT)for(s=0;s<o;++s)e[s+t]=this[s+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o};a.prototype.fill=function(e,t,n,i){if(typeof e=="string"){if(typeof t=="string"?(i=t,t=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),e.length===1){var o=e.charCodeAt(0);o<256&&(e=o)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!a.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof e=="number"&&(e=e&255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);var s;if(typeof e=="number")for(s=t;s<n;++s)this[s]=e;else{var l=W(e)?e:Fe(new a(e,i).toString()),u=l.length;for(s=0;s<n-t;++s)this[s+t]=l[s%u]}return this};var zr=/[^+\/0-9A-Za-z-_]/g;function jr(r){if(r=Qr(r).replace(zr,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function Qr(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function Gr(r){return r<16?"0"+r.toString(16):r.toString(16)}function Fe(r,e){e=e||1/0;for(var t,n=r.length,i=null,o=[],s=0;s<n;++s){if(t=r.charCodeAt(s),t>55295&&t<57344){if(!i){if(t>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=t;continue}if(t<56320){(e-=3)>-1&&o.push(239,191,189),i=t;continue}t=(i-55296<<10|t-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,t<128){if((e-=1)<0)break;o.push(t)}else if(t<2048){if((e-=2)<0)break;o.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;o.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;o.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return o}function Hr(r){for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function Wr(r,e){for(var t,n,i,o=[],s=0;s<r.length&&!((e-=2)<0);++s)t=r.charCodeAt(s),n=t>>8,i=t%256,o.push(i),o.push(n);return o}function Ct(r){return Sr(jr(r))}function Ue(r,e,t,n){for(var i=0;i<n&&!(i+t>=e.length||i>=r.length);++i)e[i+t]=r[i];return i}function Xr(r){return r!==r}function Y(r){return r!=null&&(!!r._isBuffer||Tt(r)||Zr(r))}function Tt(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function Zr(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&Tt(r.slice(0,0))}class S extends Error{constructor(e,t,n,...i){Array.isArray(t)&&(t=t.join(" ").trim()),super(t),Error.captureStackTrace!==void 0&&Error.captureStackTrace(this,S),this.code=e;for(const o of i)for(const s in o){const l=o[s];this[s]=Y(l)?l.toString(n.encoding):l==null?l:JSON.parse(JSON.stringify(l))}}}const Kr=function(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)},Dt=function(r){const e=[];for(let t=0,n=r.length;t<n;t++){const i=r[t];if(i==null||i===!1)e[t]={disabled:!0};else if(typeof i=="string")e[t]={name:i};else if(Kr(i)){if(typeof i.name!="string")throw new S("CSV_OPTION_COLUMNS_MISSING_NAME",["Option columns missing name:",`property "name" is required at position ${t}`,"when column is an object literal"]);e[t]=i}else throw new S("CSV_INVALID_COLUMN_DEFINITION",["Invalid column definition:","expect a string or a literal object,",`got ${JSON.stringify(i)} at position ${t}`])}return e};class ct{constructor(e=100){this.size=e,this.length=0,this.buf=a.allocUnsafe(e)}prepend(e){if(Y(e)){const t=this.length+e.length;if(t>=this.size&&(this.resize(),t>=this.size))throw Error("INVALID_BUFFER_STATE");const n=this.buf;this.buf=a.allocUnsafe(this.size),e.copy(this.buf,0),n.copy(this.buf,e.length),this.length+=e.length}else{const t=this.length++;t===this.size&&this.resize();const n=this.clone();this.buf[0]=e,n.copy(this.buf,1,0,t)}}append(e){const t=this.length++;t===this.size&&this.resize(),this.buf[t]=e}clone(){return a.from(this.buf.slice(0,this.length))}resize(){const e=this.length;this.size=this.size*2;const t=a.allocUnsafe(this.size);this.buf.copy(t,0,0,e),this.buf=t}toString(e){return e?this.buf.slice(0,this.length).toString(e):Uint8Array.prototype.slice.call(this.buf.slice(0,this.length))}toJSON(){return this.toString("utf8")}reset(){this.length=0}}const en=12,tn=13,rn=10,nn=32,on=9,sn=function(r){return{bomSkipped:!1,bufBytesStart:0,castField:r.cast_function,commenting:!1,error:void 0,enabled:r.from_line===1,escaping:!1,escapeIsQuote:Y(r.escape)&&Y(r.quote)&&a.compare(r.escape,r.quote)===0,expectedRecordLength:Array.isArray(r.columns)?r.columns.length:void 0,field:new ct(20),firstLineToHeaders:r.cast_first_line_to_header,needMoreDataSize:Math.max(r.comment!==null?r.comment.length:0,...r.delimiter.map(e=>e.length),r.quote!==null?r.quote.length:0),previousBuf:void 0,quoting:!1,stop:!1,rawBuffer:new ct(100),record:[],recordHasError:!1,record_length:0,recordDelimiterMaxLength:r.record_delimiter.length===0?0:Math.max(...r.record_delimiter.map(e=>e.length)),trimChars:[a.from(" ",r.encoding)[0],a.from("	",r.encoding)[0]],wasQuoting:!1,wasRowDelimiter:!1,timchars:[a.from(a.from([tn],"utf8").toString(),r.encoding),a.from(a.from([rn],"utf8").toString(),r.encoding),a.from(a.from([en],"utf8").toString(),r.encoding),a.from(a.from([nn],"utf8").toString(),r.encoding),a.from(a.from([on],"utf8").toString(),r.encoding)]}},ln=function(r){return r.replace(/([A-Z])/g,function(e,t){return"_"+t.toLowerCase()})},ht=function(r){const e={};for(const n in r)e[ln(n)]=r[n];if(e.encoding===void 0||e.encoding===!0)e.encoding="utf8";else if(e.encoding===null||e.encoding===!1)e.encoding=null;else if(typeof e.encoding!="string"&&e.encoding!==null)throw new S("CSV_INVALID_OPTION_ENCODING",["Invalid option encoding:","encoding must be a string or null to return a buffer,",`got ${JSON.stringify(e.encoding)}`],e);if(e.bom===void 0||e.bom===null||e.bom===!1)e.bom=!1;else if(e.bom!==!0)throw new S("CSV_INVALID_OPTION_BOM",["Invalid option bom:","bom must be true,",`got ${JSON.stringify(e.bom)}`],e);if(e.cast_function=null,e.cast===void 0||e.cast===null||e.cast===!1||e.cast==="")e.cast=void 0;else if(typeof e.cast=="function")e.cast_function=e.cast,e.cast=!0;else if(e.cast!==!0)throw new S("CSV_INVALID_OPTION_CAST",["Invalid option cast:","cast must be true or a function,",`got ${JSON.stringify(e.cast)}`],e);if(e.cast_date===void 0||e.cast_date===null||e.cast_date===!1||e.cast_date==="")e.cast_date=!1;else if(e.cast_date===!0)e.cast_date=function(n){const i=Date.parse(n);return isNaN(i)?n:new Date(i)};else if(typeof e.cast_date!="function")throw new S("CSV_INVALID_OPTION_CAST_DATE",["Invalid option cast_date:","cast_date must be true or a function,",`got ${JSON.stringify(e.cast_date)}`],e);if(e.cast_first_line_to_header=null,e.columns===!0)e.cast_first_line_to_header=void 0;else if(typeof e.columns=="function")e.cast_first_line_to_header=e.columns,e.columns=!0;else if(Array.isArray(e.columns))e.columns=Dt(e.columns);else if(e.columns===void 0||e.columns===null||e.columns===!1)e.columns=!1;else throw new S("CSV_INVALID_OPTION_COLUMNS",["Invalid option columns:","expect an array, a function or true,",`got ${JSON.stringify(e.columns)}`],e);if(e.group_columns_by_name===void 0||e.group_columns_by_name===null||e.group_columns_by_name===!1)e.group_columns_by_name=!1;else{if(e.group_columns_by_name!==!0)throw new S("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","expect an boolean,",`got ${JSON.stringify(e.group_columns_by_name)}`],e);if(e.columns===!1)throw new S("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","the `columns` mode must be activated."],e)}if(e.comment===void 0||e.comment===null||e.comment===!1||e.comment==="")e.comment=null;else if(typeof e.comment=="string"&&(e.comment=a.from(e.comment,e.encoding)),!Y(e.comment))throw new S("CSV_INVALID_OPTION_COMMENT",["Invalid option comment:","comment must be a buffer or a string,",`got ${JSON.stringify(e.comment)}`],e);const t=JSON.stringify(e.delimiter);if(Array.isArray(e.delimiter)||(e.delimiter=[e.delimiter]),e.delimiter.length===0)throw new S("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${t}`],e);if(e.delimiter=e.delimiter.map(function(n){if(n==null||n===!1)return a.from(",",e.encoding);if(typeof n=="string"&&(n=a.from(n,e.encoding)),!Y(n)||n.length===0)throw new S("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${t}`],e);return n}),e.escape===void 0||e.escape===!0?e.escape=a.from('"',e.encoding):typeof e.escape=="string"?e.escape=a.from(e.escape,e.encoding):(e.escape===null||e.escape===!1)&&(e.escape=null),e.escape!==null&&!Y(e.escape))throw new Error(`Invalid Option: escape must be a buffer, a string or a boolean, got ${JSON.stringify(e.escape)}`);if(e.from===void 0||e.from===null)e.from=1;else if(typeof e.from=="string"&&/\d+/.test(e.from)&&(e.from=parseInt(e.from)),Number.isInteger(e.from)){if(e.from<0)throw new Error(`Invalid Option: from must be a positive integer, got ${JSON.stringify(r.from)}`)}else throw new Error(`Invalid Option: from must be an integer, got ${JSON.stringify(e.from)}`);if(e.from_line===void 0||e.from_line===null)e.from_line=1;else if(typeof e.from_line=="string"&&/\d+/.test(e.from_line)&&(e.from_line=parseInt(e.from_line)),Number.isInteger(e.from_line)){if(e.from_line<=0)throw new Error(`Invalid Option: from_line must be a positive integer greater than 0, got ${JSON.stringify(r.from_line)}`)}else throw new Error(`Invalid Option: from_line must be an integer, got ${JSON.stringify(r.from_line)}`);if(e.ignore_last_delimiters===void 0||e.ignore_last_delimiters===null)e.ignore_last_delimiters=!1;else if(typeof e.ignore_last_delimiters=="number")e.ignore_last_delimiters=Math.floor(e.ignore_last_delimiters),e.ignore_last_delimiters===0&&(e.ignore_last_delimiters=!1);else if(typeof e.ignore_last_delimiters!="boolean")throw new S("CSV_INVALID_OPTION_IGNORE_LAST_DELIMITERS",["Invalid option `ignore_last_delimiters`:","the value must be a boolean value or an integer,",`got ${JSON.stringify(e.ignore_last_delimiters)}`],e);if(e.ignore_last_delimiters===!0&&e.columns===!1)throw new S("CSV_IGNORE_LAST_DELIMITERS_REQUIRES_COLUMNS",["The option `ignore_last_delimiters`","requires the activation of the `columns` option"],e);if(e.info===void 0||e.info===null||e.info===!1)e.info=!1;else if(e.info!==!0)throw new Error(`Invalid Option: info must be true, got ${JSON.stringify(e.info)}`);if(e.max_record_size===void 0||e.max_record_size===null||e.max_record_size===!1)e.max_record_size=0;else if(!(Number.isInteger(e.max_record_size)&&e.max_record_size>=0))if(typeof e.max_record_size=="string"&&/\d+/.test(e.max_record_size))e.max_record_size=parseInt(e.max_record_size);else throw new Error(`Invalid Option: max_record_size must be a positive integer, got ${JSON.stringify(e.max_record_size)}`);if(e.objname===void 0||e.objname===null||e.objname===!1)e.objname=void 0;else if(Y(e.objname)){if(e.objname.length===0)throw new Error("Invalid Option: objname must be a non empty buffer");e.encoding===null||(e.objname=e.objname.toString(e.encoding))}else if(typeof e.objname=="string"){if(e.objname.length===0)throw new Error("Invalid Option: objname must be a non empty string")}else if(typeof e.objname!="number")throw new Error(`Invalid Option: objname must be a string or a buffer, got ${e.objname}`);if(e.objname!==void 0){if(typeof e.objname=="number"){if(e.columns!==!1)throw Error("Invalid Option: objname index cannot be combined with columns or be defined as a field")}else if(e.columns===!1)throw Error("Invalid Option: objname field must be combined with columns or be defined as an index")}if(e.on_record===void 0||e.on_record===null)e.on_record=void 0;else if(typeof e.on_record!="function")throw new S("CSV_INVALID_OPTION_ON_RECORD",["Invalid option `on_record`:","expect a function,",`got ${JSON.stringify(e.on_record)}`],e);if(e.quote===null||e.quote===!1||e.quote==="")e.quote=null;else if(e.quote===void 0||e.quote===!0?e.quote=a.from('"',e.encoding):typeof e.quote=="string"&&(e.quote=a.from(e.quote,e.encoding)),!Y(e.quote))throw new Error(`Invalid Option: quote must be a buffer or a string, got ${JSON.stringify(e.quote)}`);if(e.raw===void 0||e.raw===null||e.raw===!1)e.raw=!1;else if(e.raw!==!0)throw new Error(`Invalid Option: raw must be true, got ${JSON.stringify(e.raw)}`);if(e.record_delimiter===void 0)e.record_delimiter=[];else if(typeof e.record_delimiter=="string"||Y(e.record_delimiter)){if(e.record_delimiter.length===0)throw new S("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer,",`got ${JSON.stringify(e.record_delimiter)}`],e);e.record_delimiter=[e.record_delimiter]}else if(!Array.isArray(e.record_delimiter))throw new S("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer,",`got ${JSON.stringify(e.record_delimiter)}`],e);if(e.record_delimiter=e.record_delimiter.map(function(n,i){if(typeof n!="string"&&!Y(n))throw new S("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer",`at index ${i},`,`got ${JSON.stringify(n)}`],e);if(n.length===0)throw new S("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer",`at index ${i},`,`got ${JSON.stringify(n)}`],e);return typeof n=="string"&&(n=a.from(n,e.encoding)),n}),typeof e.relax_column_count!="boolean")if(e.relax_column_count===void 0||e.relax_column_count===null)e.relax_column_count=!1;else throw new Error(`Invalid Option: relax_column_count must be a boolean, got ${JSON.stringify(e.relax_column_count)}`);if(typeof e.relax_column_count_less!="boolean")if(e.relax_column_count_less===void 0||e.relax_column_count_less===null)e.relax_column_count_less=!1;else throw new Error(`Invalid Option: relax_column_count_less must be a boolean, got ${JSON.stringify(e.relax_column_count_less)}`);if(typeof e.relax_column_count_more!="boolean")if(e.relax_column_count_more===void 0||e.relax_column_count_more===null)e.relax_column_count_more=!1;else throw new Error(`Invalid Option: relax_column_count_more must be a boolean, got ${JSON.stringify(e.relax_column_count_more)}`);if(typeof e.relax_quotes!="boolean")if(e.relax_quotes===void 0||e.relax_quotes===null)e.relax_quotes=!1;else throw new Error(`Invalid Option: relax_quotes must be a boolean, got ${JSON.stringify(e.relax_quotes)}`);if(typeof e.skip_empty_lines!="boolean")if(e.skip_empty_lines===void 0||e.skip_empty_lines===null)e.skip_empty_lines=!1;else throw new Error(`Invalid Option: skip_empty_lines must be a boolean, got ${JSON.stringify(e.skip_empty_lines)}`);if(typeof e.skip_records_with_empty_values!="boolean")if(e.skip_records_with_empty_values===void 0||e.skip_records_with_empty_values===null)e.skip_records_with_empty_values=!1;else throw new Error(`Invalid Option: skip_records_with_empty_values must be a boolean, got ${JSON.stringify(e.skip_records_with_empty_values)}`);if(typeof e.skip_records_with_error!="boolean")if(e.skip_records_with_error===void 0||e.skip_records_with_error===null)e.skip_records_with_error=!1;else throw new Error(`Invalid Option: skip_records_with_error must be a boolean, got ${JSON.stringify(e.skip_records_with_error)}`);if(e.rtrim===void 0||e.rtrim===null||e.rtrim===!1)e.rtrim=!1;else if(e.rtrim!==!0)throw new Error(`Invalid Option: rtrim must be a boolean, got ${JSON.stringify(e.rtrim)}`);if(e.ltrim===void 0||e.ltrim===null||e.ltrim===!1)e.ltrim=!1;else if(e.ltrim!==!0)throw new Error(`Invalid Option: ltrim must be a boolean, got ${JSON.stringify(e.ltrim)}`);if(e.trim===void 0||e.trim===null||e.trim===!1)e.trim=!1;else if(e.trim!==!0)throw new Error(`Invalid Option: trim must be a boolean, got ${JSON.stringify(e.trim)}`);if(e.trim===!0&&r.ltrim!==!1?e.ltrim=!0:e.ltrim!==!0&&(e.ltrim=!1),e.trim===!0&&r.rtrim!==!1?e.rtrim=!0:e.rtrim!==!0&&(e.rtrim=!1),e.to===void 0||e.to===null)e.to=-1;else if(typeof e.to=="string"&&/\d+/.test(e.to)&&(e.to=parseInt(e.to)),Number.isInteger(e.to)){if(e.to<=0)throw new Error(`Invalid Option: to must be a positive integer greater than 0, got ${JSON.stringify(r.to)}`)}else throw new Error(`Invalid Option: to must be an integer, got ${JSON.stringify(r.to)}`);if(e.to_line===void 0||e.to_line===null)e.to_line=-1;else if(typeof e.to_line=="string"&&/\d+/.test(e.to_line)&&(e.to_line=parseInt(e.to_line)),Number.isInteger(e.to_line)){if(e.to_line<=0)throw new Error(`Invalid Option: to_line must be a positive integer greater than 0, got ${JSON.stringify(r.to_line)}`)}else throw new Error(`Invalid Option: to_line must be an integer, got ${JSON.stringify(r.to_line)}`);return e},_t=function(r){return r.every(e=>e==null||e.toString&&e.toString().trim()==="")},fn=13,un=10,he={utf8:a.from([239,187,191]),utf16le:a.from([255,254])},an=function(r={}){const e={bytes:0,comment_lines:0,empty_lines:0,invalid_field_length:0,lines:1,records:0},t=ht(r);return{info:e,original_options:r,options:t,state:sn(t),__needMoreData:function(n,i,o){if(o)return!1;const{encoding:s,escape:l,quote:u}=this.options,{quoting:f,needMoreDataSize:c,recordDelimiterMaxLength:h}=this.state,g=i-n-1,d=Math.max(c,h===0?a.from(`\r
`,s).length:h,f?(l===null?0:l.length)+u.length:0,f?u.length+h:0);return g<d},parse:function(n,i,o,s){const{bom:l,encoding:u,from_line:f,ltrim:c,max_record_size:h,raw:g,relax_quotes:d,rtrim:w,skip_empty_lines:_,to:m,to_line:x}=this.options;let{comment:p,escape:y,quote:R,record_delimiter:X}=this.options;const{bomSkipped:j,previousBuf:q,rawBuffer:$t,escapeIsQuote:kt}=this.state;let I;if(q===void 0)if(n===void 0){s();return}else I=n;else q!==void 0&&n===void 0?I=q:I=a.concat([q,n]);if(j===!1)if(l===!1)this.state.bomSkipped=!0;else if(I.length<3){if(i===!1){this.state.previousBuf=I;return}}else{for(const D in he)if(he[D].compare(I,0,he[D].length)===0){const ee=he[D].length;this.state.bufBytesStart+=ee,I=I.slice(ee),this.options=ht({...this.original_options,encoding:D}),{comment:p,escape:y,quote:R}=this.options;break}this.state.bomSkipped=!0}const Me=I.length;let b;for(b=0;b<Me&&!this.__needMoreData(b,Me,i);b++){if(this.state.wasRowDelimiter===!0&&(this.info.lines++,this.state.wasRowDelimiter=!1),x!==-1&&this.info.lines>x){this.state.stop=!0,s();return}this.state.quoting===!1&&X.length===0&&this.__autoDiscoverRecordDelimiter(I,b)&&(X=this.options.record_delimiter);const D=I[b];if(g===!0&&$t.append(D),(D===fn||D===un)&&this.state.wasRowDelimiter===!1&&(this.state.wasRowDelimiter=!0),this.state.escaping===!0)this.state.escaping=!1;else{if(y!==null&&this.state.quoting===!0&&this.__isEscape(I,b,D)&&b+y.length<Me)if(kt){if(this.__isQuote(I,b+y.length)){this.state.escaping=!0,b+=y.length-1;continue}}else{this.state.escaping=!0,b+=y.length-1;continue}if(this.state.commenting===!1&&this.__isQuote(I,b))if(this.state.quoting===!0){const B=I[b+R.length],me=w&&this.__isCharTrimable(I,b+R.length),se=p!==null&&this.__compareBytes(p,I,b+R.length,B),te=this.__isDelimiter(I,b+R.length,B),ve=X.length===0?this.__autoDiscoverRecordDelimiter(I,b+R.length):this.__isRecordDelimiter(B,I,b+R.length);if(y!==null&&this.__isEscape(I,b,D)&&this.__isQuote(I,b+y.length))b+=y.length-1;else if(!B||te||ve||se||me){this.state.quoting=!1,this.state.wasQuoting=!0,b+=R.length-1;continue}else if(d===!1){const pe=this.__error(new S("CSV_INVALID_CLOSING_QUOTE",["Invalid Closing Quote:",`got "${String.fromCharCode(B)}"`,`at line ${this.info.lines}`,"instead of delimiter, record delimiter, trimable character","(if activated) or comment"],this.options,this.__infoField()));if(pe!==void 0)return pe}else this.state.quoting=!1,this.state.wasQuoting=!0,this.state.field.prepend(R),b+=R.length-1}else if(this.state.field.length!==0){if(d===!1){const B=this.__infoField(),me=Object.keys(he).map(te=>he[te].equals(this.state.field.toString())?te:!1).filter(Boolean)[0],se=this.__error(new S("INVALID_OPENING_QUOTE",["Invalid Opening Quote:",`a quote is found on field ${JSON.stringify(B.column)} at line ${B.lines}, value is ${JSON.stringify(this.state.field.toString(u))}`,me?`(${me} bom)`:void 0],this.options,B,{field:this.state.field}));if(se!==void 0)return se}}else{this.state.quoting=!0,b+=R.length-1;continue}if(this.state.quoting===!1){const B=this.__isRecordDelimiter(D,I,b);if(B!==0){if(this.state.commenting&&this.state.wasQuoting===!1&&this.state.record.length===0&&this.state.field.length===0)this.info.comment_lines++;else{if(this.state.enabled===!1&&this.info.lines+(this.state.wasRowDelimiter===!0?1:0)>=f){this.state.enabled=!0,this.__resetField(),this.__resetRecord(),b+=B-1;continue}if(_===!0&&this.state.wasQuoting===!1&&this.state.record.length===0&&this.state.field.length===0){this.info.empty_lines++,b+=B-1;continue}this.info.bytes=this.state.bufBytesStart+b;const ve=this.__onField();if(ve!==void 0)return ve;this.info.bytes=this.state.bufBytesStart+b+B;const pe=this.__onRecord(o);if(pe!==void 0)return pe;if(m!==-1&&this.info.records>=m){this.state.stop=!0,s();return}}this.state.commenting=!1,b+=B-1;continue}if(this.state.commenting)continue;if((p===null?0:this.__compareBytes(p,I,b,D))!==0){this.state.commenting=!0;continue}const se=this.__isDelimiter(I,b,D);if(se!==0){this.info.bytes=this.state.bufBytesStart+b;const te=this.__onField();if(te!==void 0)return te;b+=se-1;continue}}}if(this.state.commenting===!1&&h!==0&&this.state.record_length+this.state.field.length>h)return this.__error(new S("CSV_MAX_RECORD_SIZE",["Max Record Size:","record exceed the maximum number of tolerated bytes",`of ${h}`,`at line ${this.info.lines}`],this.options,this.__infoField()));const ee=c===!1||this.state.quoting===!0||this.state.field.length!==0||!this.__isCharTrimable(I,b),Bt=w===!1||this.state.wasQuoting===!1;if(ee===!0&&Bt===!0)this.state.field.append(D);else{if(w===!0&&!this.__isCharTrimable(I,b))return this.__error(new S("CSV_NON_TRIMABLE_CHAR_AFTER_CLOSING_QUOTE",["Invalid Closing Quote:","found non trimable byte after quote",`at line ${this.info.lines}`],this.options,this.__infoField()));ee===!1&&(b+=this.__isCharTrimable(I,b)-1);continue}}if(i===!0)if(this.state.quoting===!0){const D=this.__error(new S("CSV_QUOTE_NOT_CLOSED",["Quote Not Closed:",`the parsing is finished with an opening quote at line ${this.info.lines}`],this.options,this.__infoField()));if(D!==void 0)return D}else if(this.state.wasQuoting===!0||this.state.record.length!==0||this.state.field.length!==0){this.info.bytes=this.state.bufBytesStart+b;const D=this.__onField();if(D!==void 0)return D;const ee=this.__onRecord(o);if(ee!==void 0)return ee}else this.state.wasRowDelimiter===!0?this.info.empty_lines++:this.state.commenting===!0&&this.info.comment_lines++;else this.state.bufBytesStart+=b,this.state.previousBuf=I.slice(b);this.state.wasRowDelimiter===!0&&(this.info.lines++,this.state.wasRowDelimiter=!1)},__onRecord:function(n){const{columns:i,group_columns_by_name:o,encoding:s,info:l,from:u,relax_column_count:f,relax_column_count_less:c,relax_column_count_more:h,raw:g,skip_records_with_empty_values:d}=this.options,{enabled:w,record:_}=this.state;if(w===!1)return this.__resetRecord();const m=_.length;if(i===!0){if(d===!0&&_t(_)){this.__resetRecord();return}return this.__firstLineToColumns(_)}if(i===!1&&this.info.records===0&&(this.state.expectedRecordLength=m),m!==this.state.expectedRecordLength){const x=i===!1?new S("CSV_RECORD_INCONSISTENT_FIELDS_LENGTH",["Invalid Record Length:",`expect ${this.state.expectedRecordLength},`,`got ${m} on line ${this.info.lines}`],this.options,this.__infoField(),{record:_}):new S("CSV_RECORD_INCONSISTENT_COLUMNS",["Invalid Record Length:",`columns length is ${i.length},`,`got ${m} on line ${this.info.lines}`],this.options,this.__infoField(),{record:_});if(f===!0||c===!0&&m<this.state.expectedRecordLength||h===!0&&m>this.state.expectedRecordLength)this.info.invalid_field_length++,this.state.error=x;else{const p=this.__error(x);if(p)return p}}if(d===!0&&_t(_)){this.__resetRecord();return}if(this.state.recordHasError===!0){this.__resetRecord(),this.state.recordHasError=!1;return}if(this.info.records++,u===1||this.info.records>=u){const{objname:x}=this.options;if(i!==!1){const p={};for(let y=0,R=_.length;y<R;y++)i[y]===void 0||i[y].disabled||(o===!0&&p[i[y].name]!==void 0?Array.isArray(p[i[y].name])?p[i[y].name]=p[i[y].name].concat(_[y]):p[i[y].name]=[p[i[y].name],_[y]]:p[i[y].name]=_[y]);if(g===!0||l===!0){const y=Object.assign({record:p},g===!0?{raw:this.state.rawBuffer.toString(s)}:{},l===!0?{info:this.__infoRecord()}:{}),R=this.__push(x===void 0?y:[p[x],y],n);if(R)return R}else{const y=this.__push(x===void 0?p:[p[x],p],n);if(y)return y}}else if(g===!0||l===!0){const p=Object.assign({record:_},g===!0?{raw:this.state.rawBuffer.toString(s)}:{},l===!0?{info:this.__infoRecord()}:{}),y=this.__push(x===void 0?p:[_[x],p],n);if(y)return y}else{const p=this.__push(x===void 0?_:[_[x],_],n);if(p)return p}}this.__resetRecord()},__firstLineToColumns:function(n){const{firstLineToHeaders:i}=this.state;try{const o=i===void 0?n:i.call(null,n);if(!Array.isArray(o))return this.__error(new S("CSV_INVALID_COLUMN_MAPPING",["Invalid Column Mapping:","expect an array from column function,",`got ${JSON.stringify(o)}`],this.options,this.__infoField(),{headers:o}));const s=Dt(o);this.state.expectedRecordLength=s.length,this.options.columns=s,this.__resetRecord();return}catch(o){return o}},__resetRecord:function(){this.options.raw===!0&&this.state.rawBuffer.reset(),this.state.error=void 0,this.state.record=[],this.state.record_length=0},__onField:function(){const{cast:n,encoding:i,rtrim:o,max_record_size:s}=this.options,{enabled:l,wasQuoting:u}=this.state;if(l===!1)return this.__resetField();let f=this.state.field.toString(i);if(o===!0&&u===!1&&(f=f.trimRight()),n===!0){const[c,h]=this.__cast(f);if(c!==void 0)return c;f=h}this.state.record.push(f),s!==0&&typeof f=="string"&&(this.state.record_length+=f.length),this.__resetField()},__resetField:function(){this.state.field.reset(),this.state.wasQuoting=!1},__push:function(n,i){const{on_record:o}=this.options;if(o!==void 0){const s=this.__infoRecord();try{n=o.call(null,n,s)}catch(l){return l}if(n==null)return}i(n)},__cast:function(n){const{columns:i,relax_column_count:o}=this.options;if(Array.isArray(i)===!0&&o&&this.options.columns.length<=this.state.record.length)return[void 0,void 0];if(this.state.castField!==null)try{const l=this.__infoField();return[void 0,this.state.castField.call(null,n,l)]}catch(l){return[l]}if(this.__isFloat(n))return[void 0,parseFloat(n)];if(this.options.cast_date!==!1){const l=this.__infoField();return[void 0,this.options.cast_date.call(null,n,l)]}return[void 0,n]},__isCharTrimable:function(n,i){return((s,l)=>{const{timchars:u}=this.state;e:for(let f=0;f<u.length;f++){const c=u[f];for(let h=0;h<c.length;h++)if(c[h]!==s[l+h])continue e;return c.length}return 0})(n,i)},__isFloat:function(n){return n-parseFloat(n)+1>=0},__compareBytes:function(n,i,o,s){if(n[0]!==s)return 0;const l=n.length;for(let u=1;u<l;u++)if(n[u]!==i[o+u])return 0;return l},__isDelimiter:function(n,i,o){const{delimiter:s,ignore_last_delimiters:l}=this.options;if(l===!0&&this.state.record.length===this.options.columns.length-1)return 0;if(l!==!1&&typeof l=="number"&&this.state.record.length===l-1)return 0;e:for(let u=0;u<s.length;u++){const f=s[u];if(f[0]===o){for(let c=1;c<f.length;c++)if(f[c]!==n[i+c])continue e;return f.length}}return 0},__isRecordDelimiter:function(n,i,o){const{record_delimiter:s}=this.options,l=s.length;e:for(let u=0;u<l;u++){const f=s[u],c=f.length;if(f[0]===n){for(let h=1;h<c;h++)if(f[h]!==i[o+h])continue e;return f.length}}return 0},__isEscape:function(n,i,o){const{escape:s}=this.options;if(s===null)return!1;const l=s.length;if(s[0]===o){for(let u=0;u<l;u++)if(s[u]!==n[i+u])return!1;return!0}return!1},__isQuote:function(n,i){const{quote:o}=this.options;if(o===null)return!1;const s=o.length;for(let l=0;l<s;l++)if(o[l]!==n[i+l])return!1;return!0},__autoDiscoverRecordDelimiter:function(n,i){const{encoding:o}=this.options,s=[a.from(`\r
`,o),a.from(`
`,o),a.from("\r",o)];e:for(let l=0;l<s.length;l++){const u=s[l].length;for(let f=0;f<u;f++)if(s[l][f]!==n[i+f])continue e;return this.options.record_delimiter.push(s[l]),this.state.recordDelimiterMaxLength=s[l].length,s[l].length}return 0},__error:function(n){const{encoding:i,raw:o,skip_records_with_error:s}=this.options,l=typeof n=="string"?new Error(n):n;if(s){this.state.recordHasError=!0,this.options.on_skip!==void 0&&this.options.on_skip(l,o?this.state.rawBuffer.toString(i):void 0);return}else return l},__infoDataSet:function(){return{...this.info,columns:this.options.columns}},__infoRecord:function(){const{columns:n,raw:i,encoding:o}=this.options;return{...this.__infoDataSet(),error:this.state.error,header:n===!0,index:this.state.record.length,raw:i?this.state.rawBuffer.toString(o):void 0}},__infoField:function(){const{columns:n}=this.options,i=Array.isArray(n);return{...this.__infoRecord(),column:i===!0?n.length>this.state.record.length?n[this.state.record.length].name:null:this.state.record.length,quoting:this.state.wasQuoting}}}},cn=function(r,e={}){typeof r=="string"&&(r=a.from(r));const t=e&&e.objname?{}:[],n=an(e),i=u=>{n.options.objname===void 0?t.push(u):t[u[0]]=u[1]},o=()=>{},s=n.parse(r,!1,i,o);if(s!==void 0)throw s;const l=n.parse(void 0,!0,i,o);if(l!==void 0)throw l;return t};function hn(r){let e,t,n;return{c(){e=A("input"),z(e,"accept","text/csv"),z(e,"type","file")},m(i,o){v(i,e,o),t||(n=Te(e,"change",r[2]),t=!0)},p:T,d(i){i&&E(e),t=!1,n()}}}function _n(r){let e,t,n,i;return e=new Er({props:{contacts:r[1]}}),n=new mr({props:{label:"Upload csv:",$$slots:{default:[hn]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment),t=k(),M(n.$$.fragment)},m(o,s){L(e,o,s),v(o,t,s),L(n,o,s),i=!0},p(o,s){const l={};s&2&&(l.contacts=o[1]),e.$set(l);const u={};s&9&&(u.$$scope={dirty:s,ctx:o}),n.$set(u)},i(o){i||(O(e.$$.fragment,o),O(n.$$.fragment,o),i=!0)},o(o){C(e.$$.fragment,o),C(n.$$.fragment,o),i=!1},d(o){U(e,o),o&&E(t),U(n,o)}}}function dn(r){let e;return{c(){e=A("h2"),e.textContent="Contacts",z(e,"slot","header")},m(t,n){v(t,e,n)},p:T,d(t){t&&E(e)}}}function mn(r){let e,t;return e=new de({props:{$$slots:{header:[dn],default:[_n]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment)},m(n,i){L(e,n,i),t=!0},p(n,[i]){const o={};i&11&&(o.$$scope={dirty:i,ctx:n}),e.$set(o)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){U(e,n)}}}function pn(r,e,t){let n;mt(r,Oe,s=>t(1,n=s));let i;function o(){i=this.files,t(0,i)}return r.$$.update=()=>{r.$$.dirty&1&&i&&i.item(0).text().then(l=>{const u=cn(l,{columns:!0,skip_empty_lines:!0});Pt(Oe,n=u,n)})},[i,n,o]}class gn extends oe{constructor(e){super(),ie(this,e,pn,mn,K,{})}}function wn(r){let e,t,n;function i(s){r[1](s)}let o={textarea:!0,placeholder:"enter your post"};return r[0]!==void 0&&(o.value=r[0]),e=new ar({props:o}),Ve.push(()=>Xt(e,"value",i)),{c(){M(e.$$.fragment)},m(s,l){L(e,s,l),n=!0},p(s,l){const u={};!t&&l&1&&(t=!0,u.value=s[0],Ht(()=>t=!1)),e.$set(u)},i(s){n||(O(e.$$.fragment,s),n=!0)},o(s){C(e.$$.fragment,s),n=!1},d(s){U(e,s)}}}function yn(r){let e;return{c(){e=A("h2"),e.textContent="Create Post",z(e,"slot","header")},m(t,n){v(t,e,n)},p:T,d(t){t&&E(e)}}}function bn(r){let e,t;return e=new $e({props:{post:r[0],social:"twitter"}}),{c(){M(e.$$.fragment)},m(n,i){L(e,n,i),t=!0},p(n,i){const o={};i&1&&(o.post=n[0]),e.$set(o)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){U(e,n)}}}function xn(r){let e;return{c(){e=A("h3"),e.textContent="Twitter",z(e,"slot","header")},m(t,n){v(t,e,n)},p:T,d(t){t&&E(e)}}}function En(r){let e,t;return e=new $e({props:{post:r[0],social:"instagram"}}),{c(){M(e.$$.fragment)},m(n,i){L(e,n,i),t=!0},p(n,i){const o={};i&1&&(o.post=n[0]),e.$set(o)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){U(e,n)}}}function In(r){let e;return{c(){e=A("h3"),e.textContent="Instagram",z(e,"slot","header")},m(t,n){v(t,e,n)},p:T,d(t){t&&E(e)}}}function Sn(r){let e,t;return e=new $e({props:{post:r[0],social:"fediverse"}}),{c(){M(e.$$.fragment)},m(n,i){L(e,n,i),t=!0},p(n,i){const o={};i&1&&(o.post=n[0]),e.$set(o)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){U(e,n)}}}function vn(r){let e;return{c(){e=A("h3"),e.textContent="Fediverse",z(e,"slot","header")},m(t,n){v(t,e,n)},p:T,d(t){t&&E(e)}}}function An(r){let e,t;return e=new $e({props:{post:r[0],social:"facebook"}}),{c(){M(e.$$.fragment)},m(n,i){L(e,n,i),t=!0},p(n,i){const o={};i&1&&(o.post=n[0]),e.$set(o)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){U(e,n)}}}function Rn(r){let e;return{c(){e=A("h3"),e.textContent="Facebook",z(e,"slot","header")},m(t,n){v(t,e,n)},p:T,d(t){t&&E(e)}}}function On(r){let e,t,n,i,o,s,l,u,f,c,h,g,d,w;return n=new de({props:{$$slots:{header:[yn],default:[wn]},$$scope:{ctx:r}}}),o=new de({props:{$$slots:{header:[xn],default:[bn]},$$scope:{ctx:r}}}),l=new de({props:{$$slots:{header:[In],default:[En]},$$scope:{ctx:r}}}),f=new de({props:{$$slots:{header:[vn],default:[Sn]},$$scope:{ctx:r}}}),h=new de({props:{$$slots:{header:[Rn],default:[An]},$$scope:{ctx:r}}}),d=new gn({}),{c(){e=A("h1"),e.textContent="Social Text Generator",t=k(),M(n.$$.fragment),i=k(),M(o.$$.fragment),s=k(),M(l.$$.fragment),u=k(),M(f.$$.fragment),c=k(),M(h.$$.fragment),g=k(),M(d.$$.fragment)},m(_,m){v(_,e,m),v(_,t,m),L(n,_,m),v(_,i,m),L(o,_,m),v(_,s,m),L(l,_,m),v(_,u,m),L(f,_,m),v(_,c,m),L(h,_,m),v(_,g,m),L(d,_,m),w=!0},p(_,m){const x={};m&5&&(x.$$scope={dirty:m,ctx:_}),n.$set(x);const p={};m&5&&(p.$$scope={dirty:m,ctx:_}),o.$set(p);const y={};m&5&&(y.$$scope={dirty:m,ctx:_}),l.$set(y);const R={};m&5&&(R.$$scope={dirty:m,ctx:_}),f.$set(R);const X={};m&5&&(X.$$scope={dirty:m,ctx:_}),h.$set(X)},i(_){w||(O(n.$$.fragment,_),O(o.$$.fragment,_),O(l.$$.fragment,_),O(f.$$.fragment,_),O(h.$$.fragment,_),O(d.$$.fragment,_),w=!0)},o(_){C(n.$$.fragment,_),C(o.$$.fragment,_),C(l.$$.fragment,_),C(f.$$.fragment,_),C(h.$$.fragment,_),C(d.$$.fragment,_),w=!1},d(_){_&&E(e),_&&E(t),U(n,_),_&&E(i),U(o,_),_&&E(s),U(l,_),_&&E(u),U(f,_),_&&E(c),U(h,_),_&&E(g),U(d,_)}}}function Nn(r){let e,t;return e=new tr({props:{$$slots:{default:[On]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment)},m(n,i){L(e,n,i),t=!0},p(n,[i]){const o={};i&5&&(o.$$scope={dirty:i,ctx:n}),e.$set(o)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){U(e,n)}}}function Fn(r,e,t){let n="";function i(o){n=o,t(0,n)}return[n,i]}class Cn extends oe{constructor(e){super(),ie(this,e,Fn,Nn,K,{})}}new Cn({target:document.getElementById("app")});
